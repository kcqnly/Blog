<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>用树莓派搭建宿舍监控 | kcqnly的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="记录学习过程，分享生活琐碎。">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.073f7cf6.css" as="style"><link rel="preload" href="/assets/js/app.48ae9a92.js" as="script"><link rel="preload" href="/assets/js/3.4643d9f1.js" as="script"><link rel="preload" href="/assets/js/1.edbbee7e.js" as="script"><link rel="preload" href="/assets/js/7.285f0b9b.js" as="script"><link rel="prefetch" href="/assets/js/10.c8c6f4d9.js"><link rel="prefetch" href="/assets/js/11.a5ebca7d.js"><link rel="prefetch" href="/assets/js/12.0b8019c4.js"><link rel="prefetch" href="/assets/js/13.73ad9272.js"><link rel="prefetch" href="/assets/js/14.c220dffe.js"><link rel="prefetch" href="/assets/js/15.2267be98.js"><link rel="prefetch" href="/assets/js/16.1e6ca1bf.js"><link rel="prefetch" href="/assets/js/17.2552cadb.js"><link rel="prefetch" href="/assets/js/18.9cd2c69c.js"><link rel="prefetch" href="/assets/js/19.44831c8d.js"><link rel="prefetch" href="/assets/js/20.2129a481.js"><link rel="prefetch" href="/assets/js/21.c8632750.js"><link rel="prefetch" href="/assets/js/22.796b3f55.js"><link rel="prefetch" href="/assets/js/23.c662b874.js"><link rel="prefetch" href="/assets/js/24.ecfb091a.js"><link rel="prefetch" href="/assets/js/25.60e0a946.js"><link rel="prefetch" href="/assets/js/26.f75f68f2.js"><link rel="prefetch" href="/assets/js/27.e712e931.js"><link rel="prefetch" href="/assets/js/28.5cb9ac6a.js"><link rel="prefetch" href="/assets/js/29.1827cad6.js"><link rel="prefetch" href="/assets/js/30.7c3f13a0.js"><link rel="prefetch" href="/assets/js/4.e4e137b0.js"><link rel="prefetch" href="/assets/js/5.7566384d.js"><link rel="prefetch" href="/assets/js/6.0afd6c0c.js"><link rel="prefetch" href="/assets/js/8.0086b5f0.js"><link rel="prefetch" href="/assets/js/9.384c1a1d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.073f7cf6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>kcqnly的博客</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>记录学习过程，分享生活琐碎。</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>kcqnly</span>
            
          <span data-v-4e82dffc>2019 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="kcqnly的博客" class="logo"> <span class="site-name">kcqnly的博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/categories/客户端/" class="nav-link"><i class="undefined"></i>
  客户端
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/others/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    kcqnly
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>19</h3> <h6 data-v-828910c6>文章</h6></div> <div data-v-828910c6><h3 data-v-828910c6>10</h3> <h6 data-v-828910c6>标签</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/categories/客户端/" class="nav-link"><i class="undefined"></i>
  客户端
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/others/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>用树莓派搭建宿舍监控</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>kcqnly</span>
            
          <span data-v-4e82dffc>2019 - </span>
          2021
        </a></span></div></div> <div data-v-1156296a><main class="page" style="padding-right:0;"><section><div class="page-title"><h1 class="title">用树莓派搭建宿舍监控</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>kcqnly</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>2019/10/3</span></i> <!----> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>树莓派</span></i></div></div> <div class="theme-reco-content content__default"><p>用树莓派搭建宿舍监控，好像没啥必要🤔🤔🤔
其实就是买了个摄像头，先试着用一下，这个相当于是一个试水作品。</p> <p>硬件平台：树莓派4B 腾讯云Centos7学生机 树莓派官方摄像头</p> <h2 id="环境搭建"><a href="#环境搭建" class="header-anchor">#</a> 环境搭建</h2> <h3 id="一、开启vnc"><a href="#一、开启vnc" class="header-anchor">#</a> 一、开启VNC</h3> <p><img src="/assets/img/config.b0067643.png" alt="config"></p> <h4 id="修改vnc的分辨率"><a href="#修改vnc的分辨率" class="header-anchor">#</a> 修改VNC的分辨率</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /boot/
<span class="token function">sudo</span> <span class="token function">nano</span> config.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="修改配置文件"><a href="#修改配置文件" class="header-anchor">#</a> 修改配置文件</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 树莓派4B必须把这行注释掉</span>
<span class="token assign-left variable">dtoverlay</span><span class="token operator">=</span>vc4-fkms-v3d –<span class="token operator">&gt;</span> must be <span class="token comment">#dtoverlay=vc4-fkms-v3d</span>
<span class="token assign-left variable">framebuffer_width</span><span class="token operator">=</span><span class="token number">1920</span>
<span class="token assign-left variable">framebuffer_height</span><span class="token operator">=</span><span class="token number">1080</span>
<span class="token comment">#hdmi_force_hotplug=1 –&gt; must be hdmi_force_hotplug=1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="重启"><a href="#重启" class="header-anchor">#</a> 重启</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="二、在vnc-viewer中访问树莓派桌面"><a href="#二、在vnc-viewer中访问树莓派桌面" class="header-anchor">#</a> 二、在VNC Viewer中访问树莓派桌面</h3> <p>在自己的电脑上下载VNC Viewer，在地址栏里输入树莓派IP，之后会让你输入用户名和密码（就是pi和xxxx你自己设的密码），然后就可以了
<img src="/assets/img/vnc.bb9525bc.png" alt="vnc"></p> <h3 id="三、frp内网穿透"><a href="#三、frp内网穿透" class="header-anchor">#</a> 三、frp内网穿透</h3> <p>当然，要想内网穿透，得先来一个有公网IP的云服务器，我用的是腾讯云的学生机</p> <h4 id="云服务器配置"><a href="#云服务器配置" class="header-anchor">#</a> 云服务器配置</h4> <p>1、在云服务器下载frp</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> https://github.com/fatedier/frp/releases/download/v0.21.0/frp_0.21.0_linux_amd64.tar.gz
<span class="token function">tar</span> -xzvf frp_0.21.0_linux_amd64.tar.gz <span class="token comment">#解压</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>注意要删除和frpc相关的文件，只留下frps的相关文件</strong>
2、配置frps.ini</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> frp_0.21.0_linux_amd64
<span class="token function">sudo</span> <span class="token function">vim</span> frps.ini
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdsAAADECAIAAABY7xyZAAAdcElEQVR4Ae2df2wU55nHXxubeA3ErHEoePmVxKiIENSE2GlI06qni04tFymiEv9USlW1SpS0d/AP4o+cKvWU9C5COhEppwh0p6qRIp0iFSFV+aXq2iNJ0xYnVUMdF4ppMGUdQ4wXgvEabLz3fd93993Z3dnZ2Z3Z3ZnZ78iy333nfZ/3eT+v/Z3Hz7y703bs2DGBI5bYtq0/JkuWIzU2PCYGBgfiljqvRRc20xMjI9O9Nv7kx5ZNksLO53ybXEm17XI3DdU2rWDMZScv8j+T3XCquD4uiqeUfw1zydg2Cz9pX01NWknlPHT5M67mkE5PJEeS6Ktf5vrKQeccgeTdyvURyvVUoaH8SaFpmArTrsRSSYXpwwIJkEA1BDoGBweVTFTTqYFt5d96WeVKjgwnbXwxyqHOpVPTaRFPuLqqpJJJESu+LtmMUEVVamxkwubiAh8Hq7BiaRqL9Q8M9ss1Gxsetr2QWhpXKKYup3AtLssm1r9tMJa9ILniV2E4niYBEqhAoKPC+WafLqNcKnpzFSNDZNNCpKFeDlPRwobgcy6R6J0em3ZoWuYUrhwFA2gBg6QNzA6PnZ2Il/4Dkg1QS+2pC4q6Sur/E2wDUCmW/fJMMtVvicFLrRXVXB4bTnYPYI6Sij7srmtllN56fSyasKBk54DyJwnUTiDoilz7zHRPGQUWxsxSVez/vZ+b7UoMdKVr0OPCFIKS0Jzj8YGBeFlNLuyHLgVdcybK/rRcrtLpubLN5AmjpasGt0E7+3WUnSxM5qjRndI7ekDL1SI7ZnVuOzrKkyTQ0gRKFFlFnyZ+AhtLLFQobbVzwx9wQUBpY6kgdSD/4O1F1NJTOV6oMEiEJlMI91yGbxBPRNPWucO8lLpYb5cQzopncaS4GE8kYiPJMrGsDQonbyWJskkcIWzCXUw/MTuibgcI3BVYlbMu/3eIJe7OvZRO66tXrsb6i5BdrzKRc55R8dT5mgRIoDoCJYosu9v95UktqM50+dYVlF3FYOV7uz8jVSc+UHLD0r0BtJybTYsumVuuWZFFrP/uxPSIDNbjxlrOhyIUlSjrIDXX2fJTSXWRsfxplbNOXc5XyEsVAnRrzlxVxfMZEJUXyUbtTnFz3ihLJEACXgnYKrJXo079y2pKvlNWC/IVtZVSY2NVBMglY2hHoVMihthzomvbwKAKH2tRZjmjkgFUBZS0+N+FXJBq38GuFpcwFTmnkhPpuKsLkEKMbsPyMiuFvGvirLx6uf13ws4L1pEACXgmUKDI6QloWHcVNp0jMztD6KH2kMVUZjOXilD/IZuMg3w1m/C46S6bsHClT3aO6joVZSe2rRJnR4an9d6y3CXFIXlQ3l7JGamGFgmWQEvaOFcodnLD3t1wUqUtimyW7Z698ilhRq7GWY8ti1IS6BePoH4tZKVbT4oN8DUJtCqB9tzEp88OD58ViX5kTF0f6nZS3KQmK/dTYWuXzhHL9Goa6VXZK9aPHVgywlMmYvHemNw0VpTRrWw+3wLdsV35bq96rKLsRH8sjhh3oAty58mpbFK62w1iqZZ2+zPyU0RJaemIjG1lW9llcHBbAuyGEfu6umJICzAQSwzobva9pMFK10iV2VHeyUWGR4O41Mhigcd8QQIk4EhAxsgy5kGyVEdrafwJpW3uEEkrlmBOGZUd1V0v9arSN/z1qzTCQFxLshTeZFKlV2Eauj42nUpDWKRAy8Rr4c0wO59K3cyKHe5RIWjsj8nALr/Ny+Jgac+S3LkK9KAsOVWXImOxUFSUomWtKkalzqmt0XnpsrbXZXWJcyHYyjfZRWpx4VA68JUN4BBOmwjc3KLUQ+VMGAvYfiH/bynqpXcs6w3VuS7KQNF81R3gEoZ6KH4nARJwSwCKLP9UrX+6ru/s6b/WrL5WHFDKkZJJ07JUkmeRpFVybbkZhubwzkEMs/aU+mbL6KB1CmFjvxmvisIcrh5IqRg5tnS16JLlPpgVoGyR62BprarKpAYsl47cm1msPc1AuXaSSKES5wbUPxUx2Xh4bGAwkc5el2IJLFbWhGwxUNgpCxoDy15aypWhbDNrubin5bXe76cuUOjh5KWlE4skQAKSQFsSb1Or7ZB/2hXe7FybYfYiARIggdYk4EGRWxMYZ00CJEACdSNg7uzVbQQaJgESIAEScEeAiuyOE1uRAAmQQP0JUJHrz5gjkAAJkIA7AlRkd5zYigRIgATqT4CKXH/GHIEESIAE3BGgIrvjxFYkQAIkUH8CVOT6M+YIJEACJOCOABXZHSe2IgESIIH6E6Ai158xRyABEiABdwSoyO44sRUJkAAJ1J8AFbn+jDkCCZAACbgjQEV2x4mtSIAESKD+BDquXbtW/1GcRlixYsXKlSvR4sqVK4mXxp2a8pwfBJI/3OiHGdogARLwn0DBU538N1+DxXiihk7s4pZASn746smTJ922r9Ru+/btlZrwPAmQgFsCwVNkt56znScCX//61z31V51//etfezdCCyRAAoYA88gGBQskQAIk0GQCVOQmLwCHJwESIAFDgIpsULBAAiRAAk0mQEVu8gJweBIgARIwBKjIBgULJEACJNBkAlTkJi8AhycBEiABQyC/+y2jjra2NnMOFXhprTGnWCABEiABEvCdQFaR5+bm3nrrrdHRUajw4uLikiVLOjs7UVizZs2uXbv6+vp8HzhEBp98fMPhzUJMX334v6++HyK/vbn6xBNPwMArr7zizQx7kwAJVEEgr8hvv/32O++8s3HjRmjxzMzM5OTkrVu3Nm/e/NBDD7lU5AceeAAjf/DBB6XjO5wqbWxfk8mIzC1xa0FkFgUC+bZ20d4h2pfYNy6q7es5892eATH/4k8/3TdVdC77Miu7hSfHfvfp5nc7H4cc4+jt3tN39f0y3Qv78RUJkAAJ1EIgn0deWFjYtm3bj3/845deeumZZ56Jx+PV2tNarMXX2tcfOV64JtqHRcd/iqX/Kjr+XbS/KtrHxOKCdSC7cvcb+zdkpBzXfMweO6P6Ts++VqMcKx8e767Zg9KOv//aJL6K6m0ri9rwJQmQQJAJFOSR8Yk/9957b1dXVyqVwnf43d6el2w304AoQ39xmEgZZXQ0L90YKW6D6PjWjFh2XKx5Q3R/LDquiEyXuHmHuD4uLv2jmN8h42XbY0tf5rFqddAmjj5y7PwRW/tuKrPhuZumVbR58Pgarb8o6G5aoM3LKmyxKQmQQGAI5LUMd/CQOEZCGb7dvHkT5dqctEbKPsgxnECyYsnHYu0b4vbj4rZJsWROinJsTMTfEr3/KzKTApJd/kDm4Skd5JZvE8YzWny1EFOOw7iC9JkESgnkY+TSczXXmEgZFjxFx9oD5I6XvCdiH4sllhxFW0Z0pMTyPwnxkcisFm12Ezk11XZKmnjycW2otu+dh763dm8v+s4+dXDqiLC8/IU4LGNwXY/URN838iPIWHv0K+qWoK7c3JfZL8SZqbZjs/lW3komUoYZ79GxvpVX5FFRJW/0FfHhSxLwl0BWyJYuXaoTFChgANzc05ve8B1lf4es2hpu5YlPRce0TcfOy0IgRrY5U/+q7sOP5QapT2oiZ50/SYAEWoVAVpGnpqZu3LiBSaOQSCSQR9ZZC9zuu3z58qZNm6ralWySFSjg8CFMxrYKYbetYhGVdvW1L1/n3u9u2JvtroPfsrbUTox5eXpL32HV6s1fnP+misp3PtK3RwiZgDZi7Wt0rH0yyQoU8OUxTC6Kf7n7TUPmdxJoJIH2c+fOQTGfe+65jz76aGRk5Ec/+tG+ffuOHDly6dIl+IGzBw8ePHbsGPYpu3QLEoyWWoX1d13jsrtNM2xxy2wW8/0ik3/3imyGG3oL/aLtTrkZrgnH7MF3lRxbhv7GYxsy3+vZKcT7706V22Znae6paOQYVqw5ZU9G2ZkESKCpBDoQC+NAamJoaKijoyOdTkNGES8/+OCDy5cvn1cHNia7dNIqx7oLrKESh1Znl3YKmskA+SFxbVy0T4mlV7OnIMfpDeLzIZHZWnavRYEVly9s9lpU7nlq6qktuZRxb89v9vfkksuVu9bWwirH2oLJKXuMlGvzh71IgAR8IdCBt4SsX7/+i1/8IqJgKDLeG/KTn/xkYmJi//79SFboVAZ2wrnJWkB24VOp8noVZcTItwbERWx0WyZuHxGd0yJzm5hdK/62Q9z8qujsbVKMXMA/u0Muv9+u+/Dj3Uf8u4lXMFguKHZTWdSGL0mABIJMoANvmMbR04OwTh6xWAz6i5AZ79NDGYeud/O9VItNL4dTpo1TYcltYmFQXFwvJv8k2i7K/chik7i1WXSuDIIc73xk7b989qnMIGN3x5R+f2DJbFZ1ymxGSTUrSIAESMAQyN7ZM6+RwUCwjMN9psL0rW9Bvg1krRCrszsrkDvubA+CHOtZywyy2Xqhqt48pXa5Tc1jM/QAanQ2ow739+qEvehGX51GoVkSIAErgWJFRnSMW3nWFgEqQ4Vt9x0HyEXtinWTxuw3f3pVfapG4LykQyRAAkEj0HbqlNqu1Ty/VqxYgXdvY/wrV64kXhoX8UTzfGmBkVPJ5A83njx50q9nUW/fvr0FqHGKJNAgAsUxcoOGrf8wmf0bHAZpO3je4SxPkQAJkEBTCERWkam5Tfl94qAkQAJeCOQ/aciLFfYlARIgARLwToCK7J0hLZAACZCAPwSoyP5wpBUSIAES8E6AiuydIS2QAAmQgD8EqMj+cKQVEiABEvBOILJ7LbyjiaoFuelb9Ih3/uDHBGEH1niQAAn4Q6ADb9Dwx5IvVvj2EF8wOhghYQc4PEUCzSbQho+waK4P+Jy5/Hv2EnzDXnNXg6OTAAk0kwDzyM2kz7FJgARIwEqAimylwTIJkAAJNJMAFbmZ9Dk2CZAACVgJUJGtNFgmARIggWYS8HP32/XZ2XPnxi9e+gyPhlrMLOL5I6vvuGPDunWrVvXWOMWKNx2b8sjTGidTvtuHH5Y/p87s2FGhAU+TAAlEgoA/iowNG38+ffrM2FmxuDinjozIpGe75mbT4+Pja9esue++Ly3t7IwEMU6CBEiABOpFwIesBeT4xAcf/uUvZ66mUqdPn4YEzy/Mr+xZefuK5fMLN6/PzFy8eOn4u+/duHGzXpOgXRIgARKIBAEfYuQ/nzr96aeT2FY8c+1af6L//i/dt3JlT3t7Ox5frR/WNzk5+dnU9O+Hhx95eKebZ1rbg7UmKCpmM+xNBLz25vM7ZoayPi499OHy1wPuL90jARLwm4BXRUbu+MzZs59fvQI53rJlywM77oeHeLg1HmWN70hgpFKpNWvW9Pb2nhwZvZCcWL+O7wHxew1pjwRIICoEvGYtxsfPi8UMouA1a9fsuP8+jQWh8eXLl9PpdFdX16pVq1C5dOnS1av7/vrJJ5647RTyQdTRDJAlpGc/7H30w56jfHCdp98SdiaBEBPwqsiTFy/NzaUB4IH7d1gzEgsLC4iOZ2dnocXQZTToXRlPpa7cnJ8PMS26TgIkQAL1JOA1azEzc+3G3Bz2tyF3XOrn1atXsQdOK3V3d0xtwEgv7fF/08VW8fwBMdSf9eDEIfFsYRJ26y5xYI/o1w0mxInX8g22Pi1e3C3QReyRFo7uFce/Jg7sFv0T4ugL4uVRUbGBHtXNEK9uUJaFmDghXnhWjJYSYw0JkEArE/AaIy9mMgu3bvWq1EQpR2zDQKSM9AVOaV1euLVQ2sxjzS7xyxfzcgxjQ/vE01vzRqWk7svJMar7ZYOfPZ1voLtoQd99ICuaaLb72/k26OLQwM0QYqeUfn1R6B8SBwodyI/EEgmQQMsS8KrICIGRlHDYa4ybexrujRs3UEB7v1k/v09anDgq9j4qHlVfh44WjPHt3fIlomB9du8hMQFZ3l2g2uiOs0flCXFBtTyBPuuEEXbnBm6GGBqSAThGgQM4+r+cNy5f8yABEiABr4q8uq8v1t1tZNcB6JWrny9ftqzbb0XeJeSGsRPiOy/nkwCvvyyzDdlDNYCemjzG6OviBSXZ6+7MtRHiwnlZPn9Bfr+g7j9eUOpsmjg1cDcEfNBewQEt/ca4HJUHCZAACXhV5A0b1iMdkc4FwuWALi4uTk5e3LB+fbkGtdZv3SB7nni/bH/dQOupaTSq9Hed6msqay64HKLIh5qHY0cSIIHIEvCqyKt6e/Em6dtX9EBwHSCNn/9b+5L2u+9iVOgAiadIgARanYBXRQY/fGZFrDt28bPPbt68WYoT0fEn58YvTU0hg4w38i3Oy2yyf4eOdod2lrVoGw7bRrVlTVQ60YAhKrnA8yRAApEg4IMi47beV7/y8LJly/CuvPMXLszMXMdmZOyyQHIZu5VPfjx6bWamNx6fTqU++tX/nPu/w/OzV3xE9zpyyNhdIfdOmLtwu5623LVTDXAf7/ld2VHlNjV1r0/ni33wpQFD+OAlTZAACQSegNf9yHqCt912Gz6z4kIy+ddPzo2eOo19x7oet/Lu3Lhx4O678I5qyHH39TG8P+Rvv3ll/cNPdHav9AnOs4fEL7G5bbfcW2aOo8dNUbx6VAztljve0Mwc5j6bqfFSaMAQXtxjXxIggXAQ8EeRMVfc31u/bh2+8K689Gx6cfFWl9oZpzEszs/1ZKb02/UQI/sryq+LRz8pfodIfq+FEKMvi73ny75DxJd1asAQvvhJIyRAAoEm0LhnUWshNikLxMh3PfrPYOP0LGrrR1i0WTiaemul5XzIitlPrC//2W/8xPqQrSjdJYEaCfiQR3Y5MiTYmqww0uyyO5uRAAmQQOQJ+Ja1cENKizJSFrXIsYmL3YwUyjbys99C6TidJgES8IlAQxUZPptkhU/+0wwJkAAJRIdAoxW5OnJ/qPRIUMFHglZHlK1JgASCTCDYitwid7RaZJpB/jugbyQQDAKNu7MXjPnSCxIgARIILgEqcnDXhp6RAAm0GoEObAcO9Jz3CHG7EP/lwsctQnxFiI+F+K2Lxs5NHhLiHiHeE+KUczueJQESIAE/CQQ7j+znTCNh6wtCPIb3oQvxdhOmgw8GsbwNvcCBvXhnZK4CzXAZ1c9KwWeOPJurNz+9NzCmWCCBiBHo6M8+fK5p8/ItSEc8y5C2GcuIf7KscmxV7SEhfibEdyxeFcl6DQ0sxlgkgagRYB45aitav/ngYbKPFn7pp2e9ZhkS0TGOQ6oZAmf1HBYBFTaH9wbGFAskED0C4cla4E8ZCWUcpeldcwpnS/PI+iwy0f8ghH6GSWkbZAO+ZrGvxqnimxnCeFLqJMwZB1D+XAh8PF3Rp/wbOzqRjWYmQWEsoxKz+D5+qMN2oNzJev/UH7YHpdYHPg4VyQqosK4ZFeIFIV4UeORrtsZ7g9xQ/EkC0STQEY5pQcu0HMNd3L7DUW2CwqqG9wjx10I1RHLWHLAPHazhcHbSKqkwjulg0F8UuqEHNXKMlxBfXC2KhLsG33QCulxHWzfKNc7V68gXmWJz3KlKvzOvc9mMdbka7w1ylviTBKJJICSK3JPbbqE3VGwvVGT9b7M+VW6ZjAUtzXdZZA4KiANBqxs75eyj3gxR6iRqIMHWuFjLLgJzPajVLFTYRL7oqA/drKl39nKuZH/q57a8aqnVzy08L2SaAtnko0K8nEtc6FbeG1hGY5EEIkggJIqMf/D1gdAYcgx1qzZyNBb+qAJPWDCHLpsGZgjTwGWh1IJxcqMygQYm2v1tiRtmlJOW6021/woYI0UFjIu8jX/HVvncFpmgQGqCBwmQgF8EQqLIRsgwb6QUkHao9rBaKOqL2BaHtYH3IYoslA6BEa+WubSklD/B/obgHsfvyjiJPLJJLts28d7A1iwrSSDsBEKiyGHHXJX/1mtDVR0dGut0R7kG1eeRv6xMISlhPZCvwKFTE6Ze3+vTL703MGZZIIFIEmgPx6wgKObQ+yXMS+8FxKo4vA/hYKF0CIxoGzgrXwL+DWli6OyJEi8/UTVarPVJJDdwXNAvhPDeIGeJP0kgmgRCEiPjn2R9a8vcIvMxkMQNNxxFQ9Sw3EUWYNY4Oa6yxmhgUsl6Y4YeutqxIOVQf2PcTXc09i+PrO/pvV8yLnLKZgMy8hKQ4wOqjWnpvUHJmKwggUgRCIkiI8b8voU77n2Zw7pXDJVIMessM8ROi7hpWa6Am2zogvt7ZghkgWuIxB2cNHcLrdvs4I+5GVjOt6J6CCvmBVeNnfcstwGLGtftpb6nZ5spBnLsstBfenxotLWl9wZ1mxYNk0DzCYQka/G2UiKNqx4ahESqCVdh35SrWiBnJyFFEHpzYIjqs7eyN0S8NvfM0N4KT6vuDvf0DqlIWQ9yovAt1KiEOnts4M199iaBQBNo3LOoy2FwehZ1uT5Bq9+j4lb/0gJBmx/9IQESaAyBkMTIjYHBUUiABEigqQQ6mjp6GAb/vqOTSCAgHcGDBEiABPwgwBjZD4q0QQIkQAJ+EGCMXImim+www+RKFHmeBEjADQHGyG4osQ0JkAAJNIIAFbkRlDkGCZAACbghQEV2Q4ltSIAESKARBKjIjaDMMUiABEjADQEqshtKbEMCJEACjSBARW4EZY5BAiRAAm4IUJHdUGIbEiABEmgEASpyIyhzDBIgARJwQ4CK7IYS25AACZBAIwhQkRtBmWOQAAmQgBsCAVfknZt+8Mbf/yrzuPw689APnlyl53TPk/f+26FNbubHNiRAAiQQHgLB/lyLe/YMfOsby7M0B77wrcP4yrF984+5En+SAAmQQDQIBDxGFtd//tS7f9d2DF//9PAff/7mjKaeHLv4H8+di8YKcBYkQAIkkCPAZ4jkSPAnCZAACTSbQNBj5Gbz4fgkQAIk0DgCVOTGseZIJEACJOBMgIrszIdnSYAESKBxBKjIjWPNkUiABEjAmQAV2ZkPz5IACZBA4whQkRvHmiORAAmQgDMBKrIzH54lARIggcYRoCI3jjVHIgESIAFnAlRkZz48SwIkQAKNI0BFbhxrjkQCJEACzgSoyM58eJYESIAEGkeAitw41hyJBEiABJwJUJGd+fAsCZAACTSOABW5caw5EgmQAAk4E6AiO/PhWRIgARJoHAEqcuNYcyQSIAEScCZARXbmw7MkQAIk0DgCVOTGseZIJEACJOBMIOCKzGdROy8fz5IACUSKAJ9FHanl5GRIgARCTSDgMTKfRR3q3y46TwIkUB0BPou6Ol5sTQIkQAL1IxD0GLl+M6dlEiABEggaASpy0FaE/pAACbQuASpy6649Z04CJBA0AlTkoK0I/SEBEmhdAlTk1l17zpwESCBoBKjIQVsR+kMCJNC6BKjIrbv2nDkJkEDQCFCRg7Yi9IcESKB1CVCRW3ftOXMSIIGgEaAiB21F6A8JkEDrEqAit+7ac+YkQAJBI0BFDtqK0B8SIIHWJUBFbt2158xJgASCRoCKHLQVoT8kQAKtS4CK3Lprz5mTAAkEjQAVOWgrQn9IgARalwAVuXXXnjMnARIIGgEqctBWhP6QAAm0LoGAKzKfRd26v5qcOQm0IAE+i7oFF51TJgESCCiBgMfIfBZ1QH9v6BYJkEA9CPBZ1PWgSpskQAIkUAuBoMfItcyJfUiABEggnASoyOFcN3pNAiQQRQJU5CiuKudEAiQQTgJU5HCuG70mARKIIgEqchRXlXMiARIIJwEqcjjXjV6TAAlEkQAVOYqryjmRAAmEkwAVOZzrRq9JgASiSICKHMVV5ZxIgATCSYCKHM51o9ckQAJRJEBFjuKqck4kQALhJEBFDue60WsSIIEoEqAiR3FVOScSIIFwEqAih3Pd6DUJkEAUCVCRo7iqnBMJkEA4CVCRw7lu9JoESCCKBKjIUVxVzokESCCcBKjI4Vw3ek0CJBBFAgFXZD6LOoq/dJwTCZBAGQJ8FnUZMKwmARIggYYTCHiMzGdRN/w3ggOSAAk0jwCfRd089hyZBEiABAoJBD1GLvSWr0iABEggygSoyFFeXc6NBEggXASoyOFaL3pLAiQQZQJU5CivLudGAiQQLgJU5HCtF70lARKIMgEqcpRXl3MjARIIFwEqcrjWi96SAAlEmQAVOcqry7mRAAmEi8D/A2W0dvqmvPf2AAAAAElFTkSuQmCC" alt="frps"></p> <p>3、后台启动</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">nohup</span> ./frps -c frps.ini <span class="token operator">&amp;</span>              <span class="token comment">#后台运行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="树莓派frp配置"><a href="#树莓派frp配置" class="header-anchor">#</a> 树莓派frp配置</h4> <p>1、下载frp
我是直接去网站下载的，然后它在Download/文件夹下，解压完，删掉frps的相关文件即可
2、配置frpc.ini</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> frpc.ini


<span class="token punctuation">[</span>common<span class="token punctuation">]</span>
server_addr <span class="token operator">=</span> 你云服务器的IP
server_port <span class="token operator">=</span> <span class="token number">7000</span>      <span class="token comment">#先前绑定的端口</span>
login_fail_exit <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token punctuation">[</span>ssh<span class="token punctuation">]</span>
<span class="token builtin class-name">type</span> <span class="token operator">=</span> tcp
local_ip <span class="token operator">=</span> <span class="token number">127.0</span>.0.1
local_port <span class="token operator">=</span> <span class="token number">5900</span>       <span class="token comment">#VNC的端口</span>
remote_port <span class="token operator">=</span><span class="token number">5900</span>       <span class="token comment">#对应的云服务器的端口</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>3、后台运行</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>后台启动: <span class="token function">nohup</span> ./frpc -c ./frpc.ini <span class="token operator">&amp;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样就可以在VNC Viewer里用公网IP来访问树莓派了</p> <h2 id="摄像头配置"><a href="#摄像头配置" class="header-anchor">#</a> 摄像头配置</h2> <h3 id="接入摄像头"><a href="#接入摄像头" class="header-anchor">#</a> 接入摄像头</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> raspi-config
<span class="token comment"># 进入选项5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Enable Camera</strong> <img src="/assets/img/camera.654d2b39.png" alt="config"></p> <h2 id="motion配置"><a href="#motion配置" class="header-anchor">#</a> motion配置</h2> <h3 id="_1、安装motion"><a href="#_1、安装motion" class="header-anchor">#</a> 1、安装motion</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> motion
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2、motion配置"><a href="#_2、motion配置" class="header-anchor">#</a> 2、motion配置</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/motion/motion.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>需要改写这些部分</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code>stream_maxrate 200  提高传输速度

width 800

height 600

framerate 100
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="开启motion"><a href="#开启motion" class="header-anchor">#</a> 开启motion</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> motion
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/assets/img/monitor.08405052.png" alt="监控"></p> <h3 id="关闭监控"><a href="#关闭监控" class="header-anchor">#</a> 关闭监控</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">killall</span> -<span class="token environment constant">TERM</span> motion
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="提醒-为了您的人身安全-请不要偷拍室友"><a href="#提醒-为了您的人身安全-请不要偷拍室友" class="header-anchor">#</a> 提醒：为了您的人身安全，请不要偷拍室友</h2> <h2 id="感谢阅读"><a href="#感谢阅读" class="header-anchor">#</a> 感谢阅读</h2></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2021/5/16 下午10:25:20</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:0;" data-v-70334359></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.48ae9a92.js" defer></script><script src="/assets/js/3.4643d9f1.js" defer></script><script src="/assets/js/1.edbbee7e.js" defer></script><script src="/assets/js/7.285f0b9b.js" defer></script>
  </body>
</html>
